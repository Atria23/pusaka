import{q as M,r as n,j as e,a as A,y as j}from"./app-DzKhxDEK.js";function S(){const{users:b}=M().props,[d,v]=n.useState(""),[l,c]=n.useState(1),[o,y]=n.useState("desc"),[s,m]=n.useState({start:"",end:""}),[u,h]=n.useState(!1),g=b.filter(t=>{var w,p;const a=d.toLowerCase(),x=((w=t.name)==null?void 0:w.toLowerCase().includes(a))||((p=t.email)==null?void 0:p.toLowerCase().includes(a)),i=new Date(t.created_at),L=(!s.start||i>=new Date(s.start))&&(!s.end||i<=new Date(s.end));return x&&L}).sort((t,a)=>{const x=new Date(t.created_at),i=new Date(a.created_at);return o==="desc"?i-x:x-i}),r=Math.ceil(g.length/10),f=g.slice((l-1)*10,l*10),N=t=>{const a=new Date(t);return a.setDate(a.getDate()+1),a.toISOString().split("T")[0]};n.useEffect(()=>{c(1)},[d,o,s]);const C=t=>{j.get(route("manage-users.edit",t))},k=t=>{window.confirm("Are you sure you want to delete this user?")&&j.delete(route("manage-users.destroy",t),{onSuccess:()=>{alert("User deleted successfully")},onError:a=>{alert("Error deleting user: "+a.message)}})};return e.jsxs(e.Fragment,{children:[e.jsx(A,{title:"Manage User"}),e.jsxs("div",{className:"mx-auto w-full max-w-[500px] max-h-[892px] min-h-screen",children:[e.jsxs("div",{className:"fixed top-0 left-1/2 -translate-x-1/2 max-w-[500px] w-full z-10 bg-main",children:[e.jsx("div",{className:"w-full h-max flex flex-row space-x-4 justify-start items-center px-4 py-2 bg-main",children:e.jsxs("div",{className:"w-full h-max flex flex-row space-x-4 items-center justify-start",children:[e.jsx("button",{className:"shrink-0 w-6 h-6",onClick:()=>window.history.back(),children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",className:"w-6 h-6",children:e.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})})}),e.jsx("div",{className:"font-utama text-white font-bold text-lg",children:"Manajemen Pengguna"})]})}),e.jsxs("div",{className:"w-full h-max flex flex-col space-y-4 items-center justify-start p-4 bg-white shadow-lg",children:[e.jsxs("div",{className:"w-full h-9 flex flex-row mx-auto items-center justify-center pr-2 py-2 rounded-lg bg-neutral-100 border-2 border-gray-200",children:[e.jsx("input",{id:"searchInput",type:"text",className:"bg-transparent border-none flex-grow focus:ring-0 focus:outline-none placeholder-gray-400",placeholder:"Cari nama/email pengguna",value:d,onChange:t=>v(t.target.value)}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"0.3",className:"w-5 h-5 text-main",children:e.jsx("path",{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16a6.471 6.471 0 0 0 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zM9.5 14A4.5 4.5 0 1 1 14 9.5 4.505 4.505 0 0 1 9.5 14z"})})]}),e.jsxs("div",{className:"w-full h-max flex flex-row space-x-4 items-center justify-start",children:[e.jsxs("button",{onClick:()=>y(t=>t==="desc"?"asc":"desc"),className:"w-full h-max flex flex-row space-x-2 items-center justify-center px-4 py-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",className:"w-4 h-4 text-main",viewBox:"0 0 16 16",children:e.jsx("path",{fillRule:"evenodd",d:"M8 1a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L7.5 13.293V1.5A.5.5 0 0 1 8 1"})}),e.jsx("span",{className:"text-utama text-sm font-thin text-left align-middle text-main",children:o==="desc"?"Terbaru":"Terlama"})]}),e.jsx("div",{className:"shrink-0 w-px bg-main h-6",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",className:"w-full h-full",children:e.jsx("line",{x1:"12",y1:"4",x2:"12",y2:"20"})})}),e.jsxs("button",{onClick:()=>h(!u),className:"w-full h-max flex flex-row space-x-2 items-center justify-center px-4 py-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"w-4 h-4 text-main",children:e.jsx("path",{d:"M1.5 1.5A.5.5 0 0 1 2 1h12a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.128.334L10 8.692V13.5a.5.5 0 0 1-.342.474l-3 1A.5.5 0 0 1 6 14.5V8.692L1.628 3.834A.5.5 0 0 1 1.5 3.5zm1 .5v1.308l4.372 4.858A.5.5 0 0 1 7 8.5v5.306l2-.666V8.5a.5.5 0 0 1 .128-.334L13.5 3.308V2z"})}),e.jsx("span",{className:"text-utama text-sm font-thin text-left align-middle text-main",children:"Filter"})]})]})]}),u&&e.jsx("div",{className:"fixed h-screen px-4 inset-0 z-20 flex items-center justify-center bg-gray-800 bg-opacity-50",children:e.jsx("div",{className:"w-full max-w-[328px] p-4 bg-white rounded-lg shadow-lg",children:e.jsxs("div",{className:"w-full h-max flex flex-col space-y-4",children:[e.jsx("button",{className:"w-full flex justify-end",onClick:()=>h(!1),children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"w-7 h-7 text-red-500",children:e.jsx("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293z"})})}),e.jsx("h2",{className:"text-center text-utama text-lg font-medium",children:"Filter Tanggal Pembuatan"}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-sm font-medium text-utama",children:"Tanggal Mulai"}),e.jsx("input",{type:"date",className:"text-sm px-3 py-2 border border-gray-200 rounded-md bg-neutral-100",value:s.start,onChange:t=>m({...s,start:t.target.value})})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-sm font-medium text-utama",children:"Tanggal Akhir"}),e.jsx("input",{type:"date",className:"text-sm px-3 py-2 border border-gray-200 rounded-md bg-neutral-100",value:s.end,min:s.start?N(s.start):"",onChange:t=>m({...s,end:t.target.value})})]})]}),e.jsxs("div",{className:"w-full flex flex-col gap-2 mt-2",children:[e.jsx("button",{onClick:()=>m({start:"",end:""}),className:"w-full border border-red-300 text-red-500 text-sm py-2 rounded hover:bg-red-50 transition",children:"Reset Tanggal"}),e.jsx("button",{onClick:()=>h(!1),className:"w-full bg-blue-600 text-white text-sm py-2 rounded hover:bg-blue-700 transition",children:"Terapkan"})]})]})})})]}),e.jsxs("div",{className:"mb-4 min-h-[756px] pt-[163px] bg-white",children:[f.length>0?f.map(t=>e.jsxs("div",{className:"flex justify-between items-center p-3 border-b border-neutral-200",children:[e.jsxs("div",{className:"flex items-center gap-2 w-full",children:[e.jsx("div",{className:"w-14 bg-white shadow hidden min-[406px]:flex items-center justify-center rounded-xl",children:e.jsx("img",{src:t.avatar||"/default-avatar.png",alt:"Company Logo",className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex flex-col items-start w-max space-y-[2px]",children:[e.jsx("p",{className:"font-utama font-semibold text-sm truncate w-full max-w-[200px] [@media(max-width:350px)]:max-w-[215px]",children:t.name}),e.jsx("p",{className:"w-full font-utama text-sm",children:t.email}),e.jsx("p",{className:"flex items-center text-xs px-2 py-1 bg-green-100 text-green-600 rounded-lg font-medium whitespace-nowrap",children:Number(t.points).toLocaleString("id-ID")})]})]}),e.jsxs("div",{className:"w-full flex items-end justify-end gap-2 flex-wrap sm:flex-nowrap",children:[e.jsx("button",{onClick:()=>C(t.id),className:"flex items-center justify-center w-8 h-8 bg-green-100 text-main rounded-full hover:bg-blue-200",title:"Edit",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-pencil-fill",viewBox:"0 0 16 16",children:e.jsx("path",{d:`M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 
                14.207 5.5l1.647-1.646a.5.5 0 0 0 
                0-.708zm.646 6.061L9.793 2.5 3.293 
                9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 
                1 .5.5v.5h.5a.5.5 0 0 1 
                .5.5v.5h.5a.5.5 0 0 1 
                .5.5v.207zm-7.468 7.468A.5.5 0 0 1 
                6 13.5V13h-.5a.5.5 0 0 
                1-.5-.5V12h-.5a.5.5 0 0 
                1-.5-.5V11h-.5a.5.5 0 0 
                1-.5-.5V10h-.5a.5.5 0 0 
                1-.175-.032l-.179.178a.5.5 0 0 
                0-.11.168l-2 5a.5.5 0 0 
                0 .65.65l5-2a.5.5 0 0 0 
                .168-.11z`})})}),e.jsx("button",{onClick:()=>k(t.id),className:"flex items-center justify-center w-8 h-8 bg-red-100 text-red-600 rounded-full hover:bg-red-200",title:"Hapus",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-trash3-fill",viewBox:"0 0 16 16",children:e.jsx("path",{d:`M11 1.5v1h3.5a.5.5 0 0 
                1 0 1h-.538l-.853 10.66A2 2 0 0 
                1 11.115 16h-6.23a2 2 0 0 
                1-1.994-1.84L2.038 3.5H1.5a.5.5 
                0 0 1 0-1H5v-1A1.5 1.5 0 0 
                1 6.5 0h3A1.5 1.5 0 0 1 11 
                1.5m-5 0v1h4v-1a.5.5 0 0 
                0-.5-.5h-3a.5.5 0 0 0-.5.5M4.5 
                5.029l.5 8.5a.5.5 0 1 
                0 .998-.06l-.5-8.5a.5.5 0 1 
                0-.998.06m6.53-.528a.5.5 0 0 
                0-.528.47l-.5 8.5a.5.5 0 0 
                0 .998.058l.5-8.5a.5.5 0 0 
                0-.47-.528M8 4.5a.5.5 0 0 
                0-.5.5v8.5a.5.5 0 0 0 1 0V5a.5.5 
                0 0 0-.5-.5`})})})]})]},t.id)):e.jsx("div",{className:"flex justify-center items-center h-full mt-6",children:e.jsx("p",{className:"text-gray-500",children:"Tidak ada pengguna ditemukan."})}),r>1&&e.jsx("div",{className:"w-full flex justify-center py-4",children:e.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-1 max-w-full px-2",children:[e.jsx("button",{onClick:()=>c(t=>Math.max(t-1,1)),disabled:l===1,className:`px-2 py-1 text-xs rounded border transition-all ${l===1?"bg-gray-200 text-gray-500 cursor-not-allowed border-gray-200":"bg-white hover:bg-gray-100 text-main border-gray-300"}`,children:"« Prev"}),Array.from({length:r},(t,a)=>a+1).map(t=>e.jsx("button",{onClick:()=>c(t),className:`px-2 py-1 text-xs rounded border transition-all ${t===l?"bg-main text-white border-main":"bg-white hover:bg-gray-100 text-main border-gray-300"}`,children:t},t)),e.jsx("button",{onClick:()=>c(t=>Math.min(t+1,r)),disabled:l===r,className:`px-2 py-1 text-xs rounded border transition-all ${l===r?"bg-gray-200 text-gray-500 cursor-not-allowed border-gray-200":"bg-white hover:bg-gray-100 text-main border-gray-300"}`,children:"Next »"})]})})]})]})]})}export{S as default};
